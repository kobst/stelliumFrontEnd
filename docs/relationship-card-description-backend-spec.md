# Backend Spec: Include Description in Relationship List Response

## Problem

The My Relationships page displays relationship cards via the `getUserCompositeCharts` endpoint. The frontend already renders a compatibility description snippet on each card when available, but the current list response does not include the `overall.description` (or `overall.summary`) field. As a result, the description area on each card is always empty.

The description text is generated during relationship analysis and stored in the composite chart document (under cluster scoring / analysis), but is only returned by detail-level endpoints — not the list endpoint.

## Goal

Include a short description/summary string in each relationship object returned by `getUserCompositeCharts` so the frontend can display it on the card without making additional API calls.

## Current Frontend Data Flow

```
getUserCompositeCharts(ownerUserId)
  -> returns array of relationship objects
  -> RelationshipCard extracts description:

const overall = relationship?.relationshipAnalysisStatus?.overall
             || relationship?.clusterScoring?.overall
             || relationship?.clusterAnalysis?.overall;

const description = overall?.description
                 || overall?.summary
                 || relationship?.description
                 || '';
```

The card conditionally renders the description with a 2-line CSS clamp, so even a longer string is fine — it will be visually truncated on the frontend.

## Required Backend Change

### Endpoint: `POST /getUserCompositeCharts`

**Request body** (unchanged):
```json
{
  "ownerUserId": "<userId>"
}
```

**Response** — each relationship object in the returned array should include the `overall.description` field within whichever analysis structure is present. The field may live in any of these paths (the frontend checks all three):

- `relationshipAnalysisStatus.overall.description`
- `clusterScoring.overall.description`
- `clusterAnalysis.overall.description`

### Option A: Include in existing projection (recommended)

If the endpoint currently projects/selects specific fields from the composite chart document, add:

```
clusterScoring.overall.description
clusterScoring.overall.summary
```

(or whichever path the description is stored under)

This is the minimal change — just widen the MongoDB projection or serializer to include the field that's already in the document.

### Option B: Add a top-level `description` field

If restructuring the response is preferred, add a top-level convenience field:

```json
{
  "_id": "...",
  "userB_name": "Jane",
  "description": "A deeply harmonious connection with strong emotional resonance...",
  ...
}
```

The frontend already checks `relationship?.description` as a fallback, so this would work without any frontend changes.

## Field Details

| Field | Type | Required | Notes |
|-------|------|----------|-------|
| `description` | `string` | No | 1-3 sentences summarizing overall compatibility. Can be empty/null if analysis hasn't run yet. |

- The frontend gracefully handles missing values (renders nothing when empty)
- No character limit enforced on the frontend — CSS clamps to 2 visible lines
- The description is read-only on the frontend; it is generated by the analysis pipeline

## Acceptance Criteria

1. `POST /getUserCompositeCharts` response includes a description string for each relationship that has completed analysis
2. Relationships that have not yet been analyzed return `null`/`undefined` or omit the field (frontend handles both)
3. No additional API calls are needed from the frontend to display the description on the card
4. Existing consumers of the endpoint are not broken (additive change only)

## Frontend Reference

- **Component**: `src/UI/dashboard/relationships/RelationshipCard.js` (lines 53-56, 72)
- **Rendering**: `src/UI/dashboard/relationships/RelationshipCard.js` (lines 97-99)
- **API call**: `src/Utilities/api.js` — `getUserCompositeCharts()`
